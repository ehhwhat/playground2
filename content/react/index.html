<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta content="initial-scale=1, shrink-to-fit=no, width=device-width" name="viewport">
    <title>React Basic</title>

    <!-- CSS -->
    <!-- Add Material font (Roboto) and Material icon as needed -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i,700,700i" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!-- Add Material CSS, replace Bootstrap CSS -->
    <link href="../../css/material.min.css" rel="stylesheet">

    <script src="https://unpkg.com/react@16/umd/react.development.js" type="text/javascript"></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" type="text/javascript"></script>
    <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js" type="text/javascript" defer='defer'></script>

    <style>
        .fakeshelf {
            border-bottom:5px solid #ccc;
            background:#eee;
            padding:2rem 2rem 1rem;
        }
        .card img {
            max-width:100%;
        }
    </style>

</head>
<body>

<header>
    <div class="container">
        <div class="row">
            <div class="col">
                <nav >
                    <ul class="nav justify-content-end">
                        <li class="nav-item">
                            <a class="nav-link disabled" href="#">React</a>
                        </li>
                        <!--<li class="nav-item">-->
                            <!--<a class="nav-link active" href="#">Maths</a>-->
                        <!--</li>-->
                    </ul>
                </nav>

            </div>
        </div>
        <div class="row">
            <div class="col">
                <ul class="nav justify-content-center">
                    <li class="nav-item">
                        <a class="nav-link " href="#book-shelf-1">Static</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#book-shelf-2">Inline properties</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#book-shelf-3">Array</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link " href="#book-shelf-4">Array with dynamic grid</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</header>


<div class="container">

    <hr class="mt-5 mb-5 invisible"/>

    <!--
        EXAMPLE 1
    -->

    <!-- TARGET TO RENDER THE MARKUP -->
    <div id="book-shelf-1" class="fakeshelf"></div>

    <!-- REACT CODE -->
    <script type="text/babel">

        class BookShelf extends React.Component {
            render() {
                return (
                    <div className="">
                        <div className="row">
                            <div className="col ">
                                <h3>Static</h3>
                                <p>In this example all data is hardcoded. <span className="text-danger">To add a different book i would need to create a new REACT component for each one.</span></p>
                                <hr className="invisible" />
                            </div>
                        </div>
                        <div className="row">
                            <Book />
                            <Book />
                            <div className="col-sm-12 text-center">
                                <hr className="invisible" />
                                <ul className="list-inline">
                                    <li className="list-inline-item"><strong>Component/s:</strong> <code>BookShelf</code>, <code>Book</code></li>
                                    <li className="list-inline-item"><strong>Data:</strong> Hardcoded and static</li>
                                    <li className="list-inline-item"><strong>Methods:</strong> </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                )
            }

        }

        class Book extends React.Component {
            render() {
                return (
                    <div className="col-6 col-sm-6 col-md-4 col-lg-2">
                        <div className="card mb-3">
                            <img className="card-img-top" src="https://www4.alibris-static.com/1984/isbn/9781328869333_l.jpg" />
                            <div className="card-body">
                                <p className="card-title">1984</p>
                                <hr className="invisible"/>
                                <p>Best book ever.</p>
                                <p><small>George Orwell | 5</small></p>
                            </div>
                        </div>
                    </div>
                );
            }
        }

        ReactDOM.render (
            <BookShelf />, document.getElementById('book-shelf-1')
        );

    </script>

    <hr class="mt-5 mb-5 invisible"/>

    <!--
        EXAMPLE 2
    -->

    <!-- TARGET TO RENDER THE MARKUP -->
    <div id="book-shelf-2" class="fakeshelf"></div>

    <!-- REACT CODE -->
    <script type="text/babel">

        class BookShelf extends React.Component {
            render() {
                return (
                    <div className="">
                        <div className="row">
                            <div className="col">
                                <h3>Inline properties</h3>
                                <p>In this example i will pass in data from inline properties.</p>
                                <hr className="invisible" />
                            </div>
                        </div>
                        <div className="row">
                            <Book id="1" title="1984" author="George Orwell" rating="5" body="Best book ever." cover="https://www4.alibris-static.com/1984/isbn/9781328869333_l.jpg" />
                            <Book id="2" title="Life of PI" author="Yann Martell" rating="4" body="Love the ending." cover="http://cdn.collider.com/wp-content/uploads/life-of-pi-poster2.jpg" />
                            <Book id="3" title="Lost city of Z" author="David Grann" rating="4" body="Crazy stuff." cover="https://images-eu.ssl-images-amazon.com/images/I/51o-3-68PML.jpg" />
                            <div className="col-sm-12 text-center">
                                <hr className="invisible" />
                                <ul className="list-inline">
                                    <li className="list-inline-item"><strong>Component/s:</strong> <code>BookShelf</code>, <code>Book</code></li>
                                    <li className="list-inline-item"><strong>Data:</strong> Inline <code>properties</code></li>
                                    <li className="list-inline-item"><strong>Methods:</strong> </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                )
            }

        }

        class Book extends React.Component {
            render() {
                return (
                    <div className="col-6 col-sm-6 col-md-4 col-lg-2">
                        <div className="card mb-3">
                            <img className="card-img-top" src={this.props.cover} />
                            <div className="card-body">
                                <p className="card-title">{this.props.title}</p>
                                <hr className="invisible"/>
                                <p>{this.props.body}</p>
                                <p><small>{this.props.author} | {this.props.rating}</small></p>
                            </div>
                        </div>
                    </div>
                );
            }
        }

        ReactDOM.render (
            <BookShelf />, document.getElementById('book-shelf-2')
        );

    </script>

    <hr class="mt-5 mb-5 invisible"/>

    <!--
        EXAMPLE 3
    -->

    <!-- TARGET TO RENDER THE MARKUP -->
    <div id="book-shelf-3" class="fakeshelf"></div>

    <!-- REACT CODE -->
    <script type="text/babel">

        class BookShelf extends React.Component {
            render() {
                const books = this._getBooks();
                return (
                    <div className="">
                        <div className="row">
                            <div className="col">
                                <h3>Array</h3>
                                <p>In this example i will pass in data from a hardcoded <code>array</code>.
                                    I will need to create the <code>array</code> and use the <code>.map</code> to separate each item.
                                    The title for the number of books will be dynamic using an IF statement to detect length of book list and adjust accordingly.</p>
                                <hr className="invisible" />
                            </div>
                        </div>
                        <div className="row">
                            <div className="col-sm-12 text-center">
                                <p><span className="badge badge-pill badge-primary">{books.length} {this._getNumberOfBooksTitle(books.length)}</span></p>
                            </div>
                            {books}
                            <div className="col-sm-12 text-center">
                                <hr className="invisible" />
                                <ul className="list-inline">
                                    <li className="list-inline-item"><strong>Component/s:</strong> <code>BookShelf</code>, <code>Book</code></li>
                                    <li className="list-inline-item"><strong>Data:</strong> <code>array</code></li>
                                    <li className="list-inline-item"><strong>Methods:</strong> <code>_getBooks()</code>, <code>_getNumberOfBooksTitle()</code></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                )
            }

            _getBooks() {
                // Fake object / array of books
                const booksList = [
                    {id: 1, title: "1984", author: "George. Orwell", rating: 5, body: "Best book ever.", cover: "https://www4.alibris-static.com/1984/isbn/9781328869333_l.jpg"},
                    {id: 2, title: "Life of PI", author: "Yann Martell", rating: 4, body: "Love the ending.", cover: "http://cdn.collider.com/wp-content/uploads/life-of-pi-poster2.jpg"},
                    {id: 3, title: "Lost city of Z", author: "David Grann", rating: 4, body: "Crazy stuff.", cover: "https://images-eu.ssl-images-amazon.com/images/I/51o-3-68PML.jpg"},
                    {id: 4, title: "In the heart of the sea", author: "Nathaniel Philbrick", rating: 4, body: "This is the book that got me started.", cover: "https://www.booktopia.com.au/http_coversbooktopiacomau/big/9780008126834/in-the-heart-of-the-sea.jpg"},
                    {id: 5, title: "I, Robot", author: "Isaac Asimov", rating: 4, body: "Nothing like the film.", cover: "https://img.sfbook.com/books/large/i-robot.jpg"},
                    {id: 6, title: "Les Mis", author: "Victor Hugo", rating: 5, body: "Long but so worth it.", cover: "https://i.pinimg.com/originals/c0/79/d1/c079d16ae2be38a69f4a4edddc27ff2c.jpg"}
                ];
                return booksList.map((book) => {
                    return (
                        <Book title={book.title}  author={book.author} rating={book.rating} body={book.body} cover={book.cover} key={book.id} />
                    );
                });
            }

            _getNumberOfBooksTitle(bookCount) {
                if(bookCount === 0) {
                    return("books?");
                } else if (bookCount === 1) {
                    return("book");
                } else {
                    return("books");
                }
            }
        }

        class Book extends React.Component {
            render() {
                return (
                    <div className="col-6 col-sm-6 col-md-4 col-lg-2">
                        <div className="card mb-3">
                            <img className="card-img-top" src={this.props.cover} />
                            <div className="card-body">
                                <p className="card-title">{this.props.title}</p>
                                <hr className="invisible"/>
                                <p>{this.props.body}</p>
                                <p><small>{this.props.author} | {this.props.rating}</small></p>
                            </div>
                        </div>
                    </div>
                );
            }
        }

        ReactDOM.render (
            <BookShelf />, document.getElementById('book-shelf-3')
        );

    </script>

    <hr class="mt-5 mb-5 invisible"/>

    <!--
        EXAMPLE 4
    -->

    <!-- TARGET TO RENDER THE MARKUP -->
    <div id="book-shelf-4" class="fakeshelf"></div>

    <!-- REACT CODE -->
    <script type="text/babel">

        class BookShelf extends React.Component {
            render() {
                const books = this._getBooks();
                return (
                    <div className="">
                        <div className="row">
                            <div className="col">
                                <h3>Example 3 + dynamic grid</h3>
                                <p>Same as <a href="#book-shelf-3">Example 3</a> but with added dynamic grid classes to adjust size of each book card depending on number of books.
                                    <span className="text-danger">Only issue is that with a hardcoded array i need to change the code everytime to show this.</span></p>
                                <hr className="invisible" />
                            </div>
                        </div>
                        <div className="row">
                            <div className="col-sm-12 text-center">
                                <p><span className="badge badge-pill badge-primary">{books.length} {this._getNumberOfBooksTitle(books.length)}</span></p>
                            </div>
                            {books}
                            <div className="col-sm-12 text-center">
                                <hr className="invisible" />
                                <ul className="list-inline">
                                    <li className="list-inline-item"><strong>Component/s:</strong> <code>BookShelf</code>, <code>Book</code></li>
                                    <li className="list-inline-item"><strong>Data:</strong> <code>array</code></li>
                                    <li className="list-inline-item"><strong>Methods:</strong> <code>_getBooks()</code>, <code>_getNumberOfBooksTitle()</code></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                )
            }

            _getBooks() {
                // Fake object / array of books
                const booksList = [
                    {id: 1, title: "1984", author: "George. Orwell", rating: 5, body: "Best book ever.", cover: "https://www4.alibris-static.com/1984/isbn/9781328869333_l.jpg"},
                    {id: 2, title: "Life of PI", author: "Yann Martell", rating: 4, body: "Love the ending.", cover: "http://cdn.collider.com/wp-content/uploads/life-of-pi-poster2.jpg"},
                    {id: 3, title: "Lost city of Z", author: "David Grann", rating: 4, body: "Crazy stuff.", cover: "https://images-eu.ssl-images-amazon.com/images/I/51o-3-68PML.jpg"},
                    {id: 4, title: "In the heart of the sea", author: "Nathaniel Philbrick", rating: 4, body: "This is the book that got me started.", cover: "https://www.booktopia.com.au/http_coversbooktopiacomau/big/9780008126834/in-the-heart-of-the-sea.jpg"},
                    {id: 5, title: "I, Robot", author: "Isaac Asimov", rating: 4, body: "Nothing like the film.", cover: "https://img.sfbook.com/books/large/i-robot.jpg"},
                    {id: 6, title: "Les Mis", author: "Victor Hugo", rating: 5, body: "Long but so worth it.", cover: "https://i.pinimg.com/originals/c0/79/d1/c079d16ae2be38a69f4a4edddc27ff2c.jpg"},
                    {id: 7, title: "2001", author: "Arthur C. Clarke", rating: 4, body: "Amazing.", cover: "https://thequantumcretin.files.wordpress.com/2013/10/2001-a-space-odyssey-by-daniel-norris.jpg"},
                    {id: 8, title: "Cicero", author: "Robert Harris", rating: 4, body: "Obsessed with Rome now.", cover: "https://www.deadgoodbooks.co.uk/wp-content/uploads/2015/09/9780099474197.jpg"}
                ];



                return booksList.map((book) => {

                    const booksListLength = booksList.length;
                    let gridSize = "col-sm-12";
                    if(booksListLength === 0) {
                        console.log('No books?');
                    } else if (booksListLength <= 3) {
                        gridSize = "col-6 col-sm-4 col-md-4 col-lg-4";
                    } else if (booksListLength === 4) {
                        gridSize = "col-6 col-sm-6 col-md-3 col-lg-3";
                    } else {
                        gridSize = "col-6 col-sm-6 col-md-3 col-lg-2";
                    }

                    return (
                        <Book title={book.title}  author={book.author} rating={book.rating} body={book.body} cover={book.cover} key={book.id} grid={gridSize}/>
                    );
                });
            }

            _getNumberOfBooksTitle(bookCount) {
                if(bookCount === 0) {
                    return("books?");
                } else if (bookCount === 1) {
                    return("book");
                } else {
                    return("books");
                }
            }
        }

        class Book extends React.Component {
            render() {
                return (
                    <div className={this.props.grid}>
                        <div className="card mb-3">
                            <img className="card-img-top" src={this.props.cover} />
                            <div className="card-body">
                                <p className="card-title">{this.props.title}</p>
                                <hr className="invisible"/>
                                <p>{this.props.body}</p>
                                <p><small>{this.props.author} | {this.props.rating}</small></p>
                            </div>
                        </div>
                    </div>
                );
            }
        }

        ReactDOM.render (
            <BookShelf />, document.getElementById('book-shelf-4')
        );

    </script>

    <hr class="mt-5 mb-5 invisible"/>

    <!--
        EXAMPLE 5
    -->

    <!-- TARGET TO RENDER THE MARKUP -->
    <div id="book-shelf-5" class="fakeshelf"></div>

    <!-- REACT CODE -->
    <script type="text/babel">

        class BookShelf extends React.Component {

            constructor(){
                super();
                this.state = {
                    showBooks: false
                };
            }

            render() {
                const books = this._getBooks();

                let bookNodes;
                let bookButtonText = "Show books";
                if(this.state.showBooks) {
                    bookNodes = <div className="row">{books}</div>;
                    bookButtonText = "Hide books";
                }

                return (
                    <div className="">
                        <div className="row">
                            <div className="col">
                                <h3>Example 4 + toggle button</h3>
                                <p>
                                    Same as <a href="#book-shelf-4">Example 4</a> but with a dynamic text button which will toggle the lists of books.
                                </p>
                                <hr className="invisible" />
                            </div>
                        </div>
                        <div className="row">
                            <div className="col-sm-12 text-center">
                                <p><span className="badge badge-pill badge-primary">{books.length} {this._getNumberOfBooksTitle(books.length)}</span></p>
                                <button className="btn btn-primary btn-lg mb-4" onClick={this._handleClick.bind(this)}>{bookButtonText}</button>
                            </div>
                            <div className="col-12">
                                {bookNodes}
                            </div>
                            <div className="col-sm-12 text-center">
                                <hr className="invisible" />
                                <ul className="list-inline">
                                    <li className="list-inline-item"><strong>Component/s:</strong> <code>BookShelf</code>, <code>Book</code></li>
                                    <li className="list-inline-item"><strong>Data:</strong> <code>array</code></li>
                                    <li className="list-inline-item"><strong>Methods:</strong> <code>_getBooks()</code>, <code>_getNumberOfBooksTitle()</code></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                )
            }

            _getBooks() {
                // Fake object / array of books
                const booksList = [
                    {id: 1, title: "1984", author: "George. Orwell", rating: 5, body: "Best book ever.", cover: "https://www4.alibris-static.com/1984/isbn/9781328869333_l.jpg"},
                    {id: 2, title: "Life of PI", author: "Yann Martell", rating: 4, body: "Love the ending.", cover: "http://cdn.collider.com/wp-content/uploads/life-of-pi-poster2.jpg"},
                    {id: 3, title: "Lost city of Z", author: "David Grann", rating: 4, body: "Crazy stuff.", cover: "https://images-eu.ssl-images-amazon.com/images/I/51o-3-68PML.jpg"},
                    {id: 4, title: "In the heart of the sea", author: "Nathaniel Philbrick", rating: 4, body: "This is the book that got me started.", cover: "https://www.booktopia.com.au/http_coversbooktopiacomau/big/9780008126834/in-the-heart-of-the-sea.jpg"},
                    {id: 5, title: "I, Robot", author: "Isaac Asimov", rating: 4, body: "Nothing like the film.", cover: "https://img.sfbook.com/books/large/i-robot.jpg"},
                    {id: 6, title: "Les Mis", author: "Victor Hugo", rating: 5, body: "Long but so worth it.", cover: "https://i.pinimg.com/originals/c0/79/d1/c079d16ae2be38a69f4a4edddc27ff2c.jpg"},
                    {id: 7, title: "2001", author: "Arthur C. Clarke", rating: 4, body: "Amazing.", cover: "https://thequantumcretin.files.wordpress.com/2013/10/2001-a-space-odyssey-by-daniel-norris.jpg"},
                    {id: 8, title: "Cicero", author: "Robert Harris", rating: 4, body: "Obsessed with Rome now.", cover: "https://www.deadgoodbooks.co.uk/wp-content/uploads/2015/09/9780099474197.jpg"},
                    {id: 9, title: "Fahrenheit 451", author: "Ray Bradbury", rating: 5, body: "Scary world.", cover: "https://volanodesign.files.wordpress.com/2012/11/fahren1.jpg"},
                    {id: 10, title: "The handmaid's tale", author: "Margeret Atwood", rating: 4, body: "Amazing.", cover: "https://www.easons.com/globalassets/5637150827/all/books/fiction/fiction-a-to-z/contemporary-fiction/9781784871444.jpg"},
                    {id: 11, title: "The road", author: "Cormax MacCarthy", rating: 4, body: "Obsessed with Rome now.", cover: "http://scriptshadow.net/wp-content/uploads/2015/05/mccarthytheroad.jpg"}
                ];



                return booksList.map((book) => {

                    const booksListLength = booksList.length;
                    let gridSize = "col-sm-12";
                    if(booksListLength === 0) {
                        console.log('No books?');
                    } else if (booksListLength <= 3) {
                        gridSize = "col-6 col-sm-4 col-md-4 col-lg-4";
                    } else if (booksListLength === 4) {
                        gridSize = "col-6 col-sm-6 col-md-3 col-lg-3";
                    } else {
                        gridSize = "col-6 col-sm-6 col-md-3 col-lg-2";
                    }

                    return (
                        <Book title={book.title}  author={book.author} rating={book.rating} body={book.body} cover={book.cover} key={book.id} grid={gridSize}/>
                    );
                });
            }

            _getNumberOfBooksTitle(bookCount) {
                if(bookCount === 0) {
                    return("books?");
                } else if (bookCount === 1) {
                    return("book");
                } else {
                    return("books");
                }
            }

            _handleClick() {
                this.setState({
                    showBooks: !this.state.showBooks
                });
            }
        }

        class Book extends React.Component {
            render() {
                return (
                    <div className={this.props.grid}>
                        <div className="card mb-3">
                            <img className="card-img-top" src={this.props.cover} />
                            <div className="card-body">
                                <p className="card-title">{this.props.title}</p>
                                <hr className="invisible"/>
                                <p>{this.props.body}</p>
                                <p><small>{this.props.author} | {this.props.rating}</small></p>
                            </div>
                        </div>
                    </div>
                );
            }
        }

        ReactDOM.render (
            <BookShelf />, document.getElementById('book-shelf-5')
        );

    </script>

    <hr class="mt-5 mb-5 invisible"/>

    <!--
        EXAMPLE 6
    -->

    <!-- TARGET TO RENDER THE MARKUP -->
    <div id="book-shelf-6" class="fakeshelf"></div>

    <!-- REACT CODE -->
    <script type="text/babel">

        class BookShelf extends React.Component {

            constructor(){
                super();
                this.state = {
                    showBooks: false,
                    books: [
                        {id: 1, title: "1984", author: "George. Orwell", rating: 5, body: "Best book ever.", cover: "https://www4.alibris-static.com/1984/isbn/9781328869333_l.jpg"},
                        {id: 2, title: "Life of PI", author: "Yann Martell", rating: 4, body: "Love the ending.", cover: "http://cdn.collider.com/wp-content/uploads/life-of-pi-poster2.jpg"},
                        {id: 3, title: "Lost city of Z", author: "David Grann", rating: 4, body: "Crazy stuff.", cover: "https://images-eu.ssl-images-amazon.com/images/I/51o-3-68PML.jpg"}
                    ]
                };
            }

            render() {
                const books = this._getBooks();

                let bookNodes;
                let bookButtonText = "Show books";
                if(this.state.showBooks) {
                    bookNodes = <div className="row">{books}</div>;
                    bookButtonText = "Hide books";
                }

                return (
                    <div className="">
                        <div className="row">
                            <div className="col">
                                <h3>666</h3>
                                <p>
                                    Same as <a href="#book-shelf-4">Example 4</a> but with a dynamic text button which will toggle the lists of books.
                                </p>
                                <hr className="invisible" />
                            </div>
                        </div>
                        <div className="row">
                            <div className="col-sm-12 col-md-3">
                                <AddBookForm addBook={this._addBook.bind(this)}/>
                            </div>
                            <div className="col-sm-12 text-center">
                                <p><span className="badge badge-pill badge-primary">{books.length} {this._getNumberOfBooksTitle(books.length)}</span></p>
                                <button className="btn btn-primary btn-lg mb-4" onClick={this._handleClick.bind(this)}>{bookButtonText}</button>
                            </div>
                            <div className="col-12">
                                {bookNodes}
                            </div>
                            <div className="col-sm-12 text-center">
                                <hr className="invisible" />
                                <ul className="list-inline">
                                    <li className="list-inline-item"><strong>Component/s:</strong> <code>BookShelf</code>, <code>Book</code></li>
                                    <li className="list-inline-item"><strong>Data:</strong> <code>array</code></li>
                                    <li className="list-inline-item"><strong>Methods:</strong> <code>_getBooks()</code>, <code>_getNumberOfBooksTitle()</code></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                )
            }

            _getBooks() {

                const booksListLength = this.state.books.length;
                let gridSize = "col-sm-12";
                if(booksListLength === 0) {
                    console.log('No books?');
                } else if (booksListLength <= 3) {
                    gridSize = "col-6 col-sm-4 col-md-4 col-lg-4";
                } else if (booksListLength === 4) {
                    gridSize = "col-6 col-sm-6 col-md-3 col-lg-3";
                } else {
                    gridSize = "col-6 col-sm-6 col-md-3 col-lg-2";
                }

                return this.state.books.map((book) => {
                    return (
                        <Book title={book.title}  author={book.author} rating={book.rating} body={book.body} cover={book.cover} key={book.id} grid={gridSize}/>
                    );
                });

            }


            _getNumberOfBooksTitle(bookCount) {
                if(bookCount === 0) {
                    return("books?");
                } else if (bookCount === 1) {
                    return("book");
                } else {
                    return("books");
                }
            }

            _handleClick() {
                this.setState({
                    showBooks: !this.state.showBooks
                });
            }

            _addBook(title, author, body, rating, cover){
                const book = {
                    id: this.state.books.length +1,
                    title,
                    author,
                    body,
                    rating,
                    cover
                };
                this.setState({books: this.state.books.concat([book])});
            }

        }

        class Book extends React.Component {
            render() {
                return (
                    <div className={this.props.grid}>
                        <div className="card mb-3">
                            <img className="card-img-top" src={this.props.cover} />
                            <div className="card-body">
                                <p className="card-title">{this.props.title}</p>
                                <hr className="invisible"/>
                                <p>{this.props.body}</p>
                                <p><small>{this.props.author} | {this.props.rating}</small></p>
                            </div>
                        </div>
                    </div>
                );
            }
        }

        class AddBookForm extends React.Component {
            render() {
                return (
                    <div className="">
                        <div className="card mb-3">
                            <div className="card-body">
                            <form onSubmit={this._handleSubmit.bind(this)}>
                                <div className="form-group">
                                    <label >Title</label>
                                    <input type="text" className="form-control"  placeholder="Enter title" ref={(input) => this._title = input} />
                                </div>
                                <div className="form-group">
                                    <label>Author</label>
                                    <input type="text" className="form-control" placeholder="Enter author" ref={(input) => this._author = input} />
                                </div>
                                <div className="form-group">
                                    <label >Body</label>
                                    <input type="text" className="form-control"  placeholder="Enter body" ref={(input) => this._body = input} />
                                </div>
                                <div className="form-group">
                                    <label>Rating</label>
                                    <input type="number" className="form-control" placeholder="Rating" ref={(input) => this._rating = input} />
                                </div>
                                <div className="form-group">
                                    <label>Img url</label>
                                    <input type="text" className="form-control" placeholder="Img url" ref={(input) => this._imgurl = input} />
                                </div>
                                <button type="submit" className="btn btn-primary">Submit</button>
                            </form>
                            </div>
                        </div>
                    </div>
                );
            }



            _handleSubmit(event) {
                event.preventDefault();

                let title = this._title;
                let author = this._author;
                let body = this._body;
                let rating = this._rating;
                let cover = this._imgurl;

                this.props.addBook(title.value, author.value, body.value, rating.value, cover.value);
            }
        }

        ReactDOM.render (
            <BookShelf />, document.getElementById('book-shelf-6')
        );

    </script>





    <hr class="mt-5 mb-5 invisible"/>

    <!--
        EXAMPLE 7
    -->

    <!-- TARGET TO RENDER THE MARKUP -->
    <div id="book-shelf-7" class="fakeshelf"></div>

    <!-- REACT CODE -->
    <script type="text/babel">

        // ******************************
        // CLASS
        // ******************************
        class BookShelf extends React.Component {

            // CONSTRUCTOR
            // ???
            constructor(){
                super();
                this.state = {
                    showBooks: false,
                    // TO BE POPULATED LATER FROM REMOTE SERVER DATA
                    books: []
                };
            }

            // RENDER
            // WHAT WE WILL RETURN
            // ???
            render() {
                const books = this._getBooks();

                let bookNodes;
                let bookButtonText = "Show books";
                if(this.state.showBooks) {
                    bookNodes = <div className="row">{books}</div>;
                    bookButtonText = "Hide books";
                }

                return (
                    <div className="">
                        <div className="row">
                            <div className="col">
                                <h3>Example 7, getting data from remote server</h3>
                                <p>
                                    Same as <a href="#book-shelf-4">Example 4</a> but with a dynamic text button which will toggle the lists of books.
                                </p>
                                <hr className="invisible" />
                            </div>
                        </div>
                        <div className="row">
                            <div className="col-sm-12 col-md-3">
                                <AddBookForm addBook={this._addBook.bind(this)}/>
                            </div>
                            <div className="col-sm-12 text-center">
                                <p><span className="badge badge-pill badge-primary">{books.length} {this._getNumberOfBooksTitle(books.length)}</span></p>
                                <button className="btn btn-primary btn-lg mb-4" onClick={this._handleClick.bind(this)}>{bookButtonText}</button>
                            </div>
                            <div className="col-12">
                                {bookNodes}
                            </div>
                            <div className="col-sm-12 text-center">
                                <hr className="invisible" />
                                <ul className="list-inline">
                                    <li className="list-inline-item"><strong>Component/s:</strong> <code>BookShelf</code>, <code>Book</code></li>
                                    <li className="list-inline-item"><strong>Data:</strong> <code>array</code></li>
                                    <li className="list-inline-item"><strong>Methods:</strong> <code>_getBooks()</code>, <code>_getNumberOfBooksTitle()</code></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                )
            }

            // METHOD
            // USED BY BookShelf CLASS
            _getBooks() {
                const booksListLength = this.state.books.length;
                let gridSize = "col-sm-12";
                if(booksListLength === 0) {
                    console.log('No books?');
                } else if (booksListLength <= 3) {
                    gridSize = "col-6 col-sm-4 col-md-4 col-lg-4";
                } else if (booksListLength === 4) {
                    gridSize = "col-6 col-sm-6 col-md-3 col-lg-3";
                } else {
                    gridSize = "col-6 col-sm-6 col-md-3 col-lg-2";
                }

                return this.state.books.map((book) => {
                    return (
                        <Book title={book.title}  author={book.author} rating={book.rating} body={book.body} cover={book.cover} key={book.id} grid={gridSize}/>
                    );
                });
            }

            // METHOD
            // USED BY BookShelf CLASS
            _getNumberOfBooksTitle(bookCount) {
                if(bookCount === 0) {
                    return("books?");
                } else if (bookCount === 1) {
                    return("book");
                } else {
                    return("books");
                }
            }

            // METHOD
            // USED BY BookShelf CLASS
            _handleClick() {
                this.setState({
                    showBooks: !this.state.showBooks
                });
            }

            // METHOD
            // USED BY BookShelf CLASS
            _addBook(title, author, body, rating, cover){
                const book = {
                    id: this.state.books.length +1,
                    title,
                    author,
                    body,
                    rating,
                    cover
                };
                this.setState({books: this.state.books.concat([book])});
            }

            // LIFECYCLE METHOD
            // THIS METHOD WILL TRIGGER _fetchBooks BEFORE ANY render() IS CALLED
            // FETCH BOOKS FROM SERVER BEFORE THE COMPONENT IS RENDERED
            componentWillMount(){
                this._fetchBooks();
                console.log('componentWillMount');
            }

            // LIFECYCLE METHOD
            // THIS METHOD WILL TRIGGER WHEN THE COMPONENT IS RENDERED
            // THIS METHOD CONTROLS POLLING OF DATA
            // IT WILL LOOK TO SERVER FOR NEW DATA EVERY 6SECS
            // STORE TIMER AS OBJECT PROPERTY IN _timer
            componentDidMount(){
                console.log('componentDidMount');
                this._timer = setInterval(() => this._fetchBooks(), 6000);
                setInterval(() => console.log('polling?'), 6000);
            }

            // LIFECYCLE METHOD
            // THIS METHOD WILL TRIGGER _fetchBooks BEFORE ANY render() IS CALLED
            // FETCH BOOKS FROM SERVER BEFORE THE COMPONENT IS RENDERED
            componentWillUnmount(){
                console.log('componentWillUnmount');
                clearInterval(this._timer);
            }

            // METHOD
            // USED BY BookShelf CLASS
            // GRABS BOOKS DATA FROM REMOTE SERVER USING JQUERY
            // => BINDS this TO OUR CLASS, this REFERS TO BookShelf
            _fetchBooks(){
                jquery.ajax({
                    method:"GET",
                    url:"api/books",
                    success: (books) => {
                        this.setState({books})
                    }
                });
            }

        }

        // ******************************
        // CLASS
        // ******************************
        class Book extends React.Component {
            // RENDER
            // WHAT WE WILL RETURN
            // ???
            render() {
                return (
                    <div className={this.props.grid}>
                        <div className="card mb-3">
                            <img className="card-img-top" src={this.props.cover} />
                            <div className="card-body">
                                <p className="card-title">{this.props.title}</p>
                                <hr className="invisible"/>
                                <p>{this.props.body}</p>
                                <p><small>{this.props.author} | {this.props.rating}</small></p>
                            </div>
                        </div>
                    </div>
                );
            }
        }

        // ******************************
        // CLASS
        // ******************************
        class AddBookForm extends React.Component {
            // RENDER
            // WHAT WE WILL RETURN
            // ???
            render() {
                return (
                    <div className="">
                        <div className="card mb-3">
                            <div className="card-body">
                                <form onSubmit={this._handleSubmit.bind(this)}>
                                    <div className="form-group">
                                        <label >Title</label>
                                        <input type="text" className="form-control"  placeholder="Enter title" ref={(input) => this._title = input} />
                                    </div>
                                    <div className="form-group">
                                        <label>Author</label>
                                        <input type="text" className="form-control" placeholder="Enter author" ref={(input) => this._author = input} />
                                    </div>
                                    <div className="form-group">
                                        <label >Body</label>
                                        <input type="text" className="form-control"  placeholder="Enter body" ref={(input) => this._body = input} />
                                    </div>
                                    <div className="form-group">
                                        <label>Rating</label>
                                        <input type="number" className="form-control" placeholder="Rating" ref={(input) => this._rating = input} />
                                    </div>
                                    <div className="form-group">
                                        <label>Img url</label>
                                        <input type="text" className="form-control" placeholder="Img url" ref={(input) => this._imgurl = input} />
                                    </div>
                                    <button type="submit" className="btn btn-primary">Submit</button>
                                </form>
                            </div>
                        </div>
                    </div>
                );
            }

            // METHOD
            // USED BY AddBookForm CLASS
            // ???
            // PREVENT DEFAULT PAGE REFRESH ON SUBMIT
            _handleSubmit(event) {
                event.preventDefault();

                let title = this._title;
                let author = this._author;
                let body = this._body;
                let rating = this._rating;
                let cover = this._imgurl;

                this.props.addBook(title.value, author.value, body.value, rating.value, cover.value);
            }
        }

        // ******************************
        // RENDER
        // CALL BOOKSHELF CLASS
        // TARGET TO INJECT IN TO
        // ******************************
        ReactDOM.render (
            <BookShelf />, document.getElementById('book-shelf-7')
        );

    </script>










    <hr class="mt-5 mb-5 invisible"/>

</div>




<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

<!-- Then Material JavaScript on top of Bootstrap JavaScript -->
<script src="../../js/material.min.js"></script>





</body>
</html>
